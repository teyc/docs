



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Documentation for SAFE">
      
      
        <link rel="canonical" href="http://safe-stack.github.io/docs/template-appservice/">
      
      
        <meta name="author" content="SAFE Stack">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>Deploy to App Service - SAFE Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#fb8c00">
      
    
    
      <script src="../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="orange" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#what-is-azure-app-service" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://safe-stack.github.io/docs/" title="SAFE Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SAFE Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Deploy to App Service
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/SAFE-Stack/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SAFE-Stack/docs
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://safe-stack.github.io/docs/" title="SAFE Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    SAFE Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/SAFE-Stack/docs/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    SAFE-Stack/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../overview/" title="SAFE Stack Overview" class="md-nav__link">
      SAFE Stack Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Components of SAFE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Components of SAFE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../component-saturn/" title="Learn about Saturn" class="md-nav__link">
      Learn about Saturn
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../component-azure/" title="Learn about Azure" class="md-nav__link">
      Learn about Azure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../component-fable/" title="Learn about Fable" class="md-nav__link">
      Learn about Fable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../component-elmish/" title="Learn about Elmish" class="md-nav__link">
      Learn about Elmish
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      The SAFE Template
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        The SAFE Template
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../template-overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-fake/" title="Run and Build the app" class="md-nav__link">
      Run and Build the app
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3" checked>
    
    <label class="md-nav__link" for="nav-6-3">
      Deployment Options
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Deployment Options
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../template-docker/" title="Deploy to Docker" class="md-nav__link">
      Deploy to Docker
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Deploy to App Service
      </label>
    
    <a href="./" title="Deploy to App Service" class="md-nav__link md-nav__link--active">
      Deploy to App Service
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-azure-app-service" class="md-nav__link">
    What is Azure App Service?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    Deployment Steps
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-fake-build-tasks" class="md-nav__link">
    Custom FAKE build tasks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-arm-template" class="md-nav__link">
    What is an ARM template?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-arguments" class="md-nav__link">
    Build arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-deployment" class="md-nav__link">
    Interactive deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-fully-automated-deployment" class="md-nav__link">
    Creating a fully automated deployment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-the-deployed-safe-application" class="md-nav__link">
    Viewing the deployed SAFE application
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-gcp-appengine/" title="Deploy to Google Cloud AppEngine" class="md-nav__link">
      Deploy to Google Cloud AppEngine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-gcp-kubernetes/" title="Deploy to Google Cloud Kubernetes Engine" class="md-nav__link">
      Deploy to Google Cloud Kubernetes Engine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-heroku/" title="Deploy to Heroku" class="md-nav__link">
      Deploy to Heroku
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-iis/" title="Deploy to IIS" class="md-nav__link">
      Deploy to IIS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-azure-ai/" title="Application Insights Integration" class="md-nav__link">
      Application Insights Integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-azure-registration/" title="Registering with Azure" class="md-nav__link">
      Registering with Azure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../template-google-cloud/" title="Registering with Google Cloud" class="md-nav__link">
      Registering with Google Cloud
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Features of SAFE
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Features of SAFE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      Client / Server Sharing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        Client / Server Sharing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver/" title="Sharing Overview" class="md-nav__link">
      Sharing Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver-basics/" title="Sharing Types and Code" class="md-nav__link">
      Sharing Types and Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver-http/" title="Messaging using HTTP" class="md-nav__link">
      Messaging using HTTP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver-remoting/" title="Messaging with Protocols" class="md-nav__link">
      Messaging with Protocols
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver-bridge/" title="Stateful Messaging through Bridge" class="md-nav__link">
      Stateful Messaging through Bridge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-clientserver-serialization/" title="Serialization in SAFE" class="md-nav__link">
      Serialization in SAFE
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-debugging/" title="Full Stack Debugging" class="md-nav__link">
      Full Stack Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-ssr/" title="Server Side Rendering" class="md-nav__link">
      Server Side Rendering
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-hmr/" title="Hot Module Replacement" class="md-nav__link">
      Hot Module Replacement
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feature-azurefunctions/" title="Working with Azure functions" class="md-nav__link">
      Working with Azure functions
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      FAQs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        FAQs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../faq-server/" title="Choosing your web server" class="md-nav__link">
      Choosing your web server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq-build/" title="Moving from dev to prod" class="md-nav__link">
      Moving from dev to prod
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../faq-troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../learning/" title="Learning Resources" class="md-nav__link">
      Learning Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../news/" title="News" class="md-nav__link">
      News
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../events/" title="Events" class="md-nav__link">
      Events
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../support/" title="Support" class="md-nav__link">
      Support
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../testimonials/" title="Testimonials" class="md-nav__link">
      Testimonials
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-is-azure-app-service" class="md-nav__link">
    What is Azure App Service?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-steps" class="md-nav__link">
    Deployment Steps
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-fake-build-tasks" class="md-nav__link">
    Custom FAKE build tasks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-an-arm-template" class="md-nav__link">
    What is an ARM template?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-arguments" class="md-nav__link">
    Build arguments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-deployment" class="md-nav__link">
    Interactive deployment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-fully-automated-deployment" class="md-nav__link">
    Creating a fully automated deployment
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#viewing-the-deployed-safe-application" class="md-nav__link">
    Viewing the deployed SAFE application
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/SAFE-Stack/docs/edit/master/docs/template-appservice.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Deploy to App Service</h1>
                
                <p>The SAFE template has the ability to deploy to Azure's <a href="https://azure.microsoft.com/en-us/services/app-service/">App Service</a> with minimum effort. This template mode will also create you an <a href="https://azure.microsoft.com/en-us/services/application-insights/">Application Insights</a> account, linked to your web application.</p>
<h2 id="what-is-azure-app-service">What is Azure App Service?</h2>
<p>The Azure App Service allows you to quickly build, deploy, and scale enterprise-grade web, mobile, and API apps running on any platform whilst meeting rigorous performance, scalability, security and compliance requirements using a fully-managed platform to perform infrastructure maintenance.</p>
<p>It comes in a number of pricing plans, including a free option and has options for scale-up, scale-out, turn-key authentication as well as powerful monitoring capabilities. It is compatible with many runtimes and includes excellent support for both .NET Framework and .NET Core.</p>
<h2 id="deployment-steps">Deployment Steps</h2>
<p>In order to deploy your SAFE application to the App Service, you must have first created an <a href="../template-azure-registration/#creating-an-azure-account">Azure Account</a>, selected a <a href="../template-azure-registration/#selecting-a-subscription">Subscription ID</a> and created an associated <a href="../template-azure-registration/#creating-an-app-registration">App Registration</a>.</p>
<h3 id="custom-fake-build-tasks">Custom FAKE build tasks</h3>
<p>The Azure variant of the SAFE template adds the following extra build stages:</p>
<ol>
<li><strong>Bundle</strong> - Runs after the standard Build step. It combines the outputs of the Client and Server application into a single folder.</li>
<li><strong>ArmTemplate</strong> - Deploys an Azure Resource Manager (ARM) template containing an entire environment as required by the SAFE application.</li>
<li><strong>AppService</strong> - Zips up the bundled folder and deploys it into the created environment.</li>
</ol>
<blockquote>
<p>There is a known issue that currently the FAKE script may sometimes fail the first time you run it with <a href="https://github.com/SAFE-Stack/SAFE-template/pull/65#issuecomment-385619990">this error</a>. If this occurs, simply open the FAKE script in your favourite editor, add a new line anywhere in the script, save and re-run. We're looking to fix this as soon as possible!</p>
</blockquote>
<h3 id="what-is-an-arm-template">What is an ARM template?</h3>
<p>An ARM template is a declarative JSON file which contains the details of the Azure resources you require in your environment. This might include a web application, database, VM and messaging service - essentially any service supported by Azure. ARM templates are smart, in that you can repeatedly deploy them over an existing environment and only the newly added elements in the template will be applied onto the environment - perfect for a CI / CD approach. This also allows you to create entire dev / test environments from scratch within just a few minutes. The ARM template that comes with the SAFE template includes everything you need for a complete deployment to Azure from a clean state.</p>
<h3 id="build-arguments">Build arguments</h3>
<p>Deploying your application through FAKE is relatively simple. Use the following command:</p>
<pre><code>fake build --target appservice
    -e subscriptionId=&lt;subId&gt;
    -e clientId=&lt;clientId&gt;
    -e tenantId=&lt;tenantId&gt;
    -e environment=&lt;environment&gt; (optional)
    -e location=&lt;location&gt;       (optional)
    -e pricingTier=&lt;pricingTier&gt; (optional)
</code></pre>

<p>where:</p>
<ul>
<li><code>subscriptionId</code> is an Azure Subscription ID.</li>
<li><code>clientId</code> is the Application (Client) ID of an Azure App Registration.</li>
<li><code>tenantId</code> is the Directory (Tenant) ID of an Azure App Registration.</li>
<li><code>environment</code> is an optional environment name that will be appended to all Azure resources created, which allows you to create entire dev / test environments quickly and easily. This defaults to a random GUID.</li>
<li><code>location</code> is the Azure data center location you wish to use. There are currently over 30 different data centers worldwide. This defaults to <code>westeurope</code>; the full list can be viewed <a href="https://blogs.msdn.microsoft.com/uk_faculty_connection/2016/09/19/azure-data-centers-and-regions/">here</a>. The location must be supplied in lower case and without spaces.</li>
<li><code>pricingTier</code> is the pricing tier of the app service that hosts your SAFE app. This defaults to F1 (free); the full list can be viewed <a href="https://azure.microsoft.com/en-us/pricing/details/app-service/">here</a>.</li>
</ul>
<p>Note that you can also modify the FAKE script and embed both the <code>subscriptionId</code>, <code>clientId</code> and <code>tenantId</code> values directly in the script and commit into source control. This is completely safe to do as these values are not sufficient on their own to authenticate into Azure (see below).</p>
<h3 id="interactive-deployment">Interactive deployment</h3>
<p>When running the build script, you will need to interactively authenticate with Azure in order to deploy the ARM template. During the FAKE script, you will see the following midway through the build cycle:</p>
<p><img alt="" src="../img/deploy-appservice-1.png" /></p>
<p>Navigating to that URL will request you to input the code shown above:</p>
<p><img alt="" src="../img/deploy-appservice-2.png" /></p>
<p>Finally, you will be prompted sign into Azure using your normal user account, and possibly consent to granting permissions to the application. After a short delay, the FAKE script will continue.</p>
<p><img alt="" src="../img/deploy-appservice-3.png" /></p>
<blockquote>
<p>Note: If you're getting <code>FileNotFoundException</code> for <code>Microsoft.Rest.ClientRuntime.Azure</code>, try editing and rerunning FAKE script (<a href="https://github.com/SAFE-Stack/SAFE-template/pull/65#issuecomment-385621229">see details</a>).</p>
</blockquote>
<h3 id="creating-a-fully-automated-deployment">Creating a fully automated deployment</h3>
<p>You can also elect to implement a fully-automated (non-interactive) deployment model, ideal for Continuous Deployment (CD) scenarios through tools such as AppVeyor and Visual Studio Team Services, using an <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-service-principal-portal#create-an-azure-active-directory-application">Azure Active Directory Application</a>. In this model, in addition to a SubscriptionID and Client ID, you also supply a Tenant ID and an Application Secret into the FAKE script to deploy your ARM resources; these identities should normally be secured and supplied into your FAKE script as arguments rather than committed into source control.</p>
<h2 id="viewing-the-deployed-safe-application">Viewing the deployed SAFE application</h2>
<p>Once the deployment is complete, you can log into the Azure Portal and see your environment being created.</p>
<ol>
<li>Log into the Azure Portal.</li>
<li>Navigate to the Resource Groups blade and locate the newly-created group. Its name will be <code>safe-&lt;environment&gt;</code> e.g. <code>safe-helloworld</code>.</li>
<li>Navigate to the App Service entry shown in the group following the convention <code>safe-&lt;environment&gt;-web</code>.</li>
<li>Hit Browse from the new App Service blade that appears.
<img alt="" src="../img/deploy-appservice-4.png" /></li>
<li>Your application will be shown in the browser running on a url following the convention <code>https://safe-&lt;environment&gt;-web.azurewebsites.net/</code>.</li>
</ol>
<p>You can also <a href="../template-docker/">deploy to a Docker Container</a>.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="/docs/template-docker/"
              title="Deploy to Docker"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Deploy to Docker
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="/docs/template-gcp-appengine/" title="Deploy to Google Cloud AppEngine"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Deploy to Google Cloud AppEngine
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        Supported by
        <a href="http://lambdafactory.io">
            λFactory</a>
        and
        <a href="https://compositional-it.com/">
          Compositional IT</a>
      </div>

      <!-- Social links -->
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/SAFE-Stack" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/safe_stack" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://safe-stack.github.io/" class="md-footer-social__link fa fa-globe"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>